<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"   
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd" > 
<mapper namespace="com.lihui.share.dao.IUserDao">
	<!-- 定义的resultMap，可以解决类的属性名和数据库列名不一致的问题-->

	<select id="findAll" resultType="com.lihui.share.entity.User">
		select user_id,loginame,name,emp_id,pwd,email,tel,addr,company,dept,project,position,level from t_user
	</select>
	<select id="findUserById" resultType="com.lihui.share.entity.User">
		select * from t_user where user_id = #{user_id}
	</select>
	<select id="findUserByLoginNameAndPwd" resultType="com.lihui.share.entity.User">
		select * from t_user where loginame = #{0} and pwd = #{1}
	</select>
	
	<select id="findUserByLoginName" resultType="com.lihui.share.entity.User">
		select * from t_user where loginame = #{0}
	</select>
	
	<update id="updateUser">
		update t_user set loginame=#{loginame,jdbcType=VARCHAR},name=#{name,jdbcType=VARCHAR},emp_id=#{emp_id,jdbcType=VARCHAR},
		pwd=#{pwd,jdbcType=VARCHAR},email=#{email,jdbcType=VARCHAR},tel=#{tel,jdbcType=VARCHAR},
		addr=#{addr,jdbcType=VARCHAR},company=#{company,jdbcType=VARCHAR},dept=#{dept,jdbcType=VARCHAR},
		project=#{project,jdbcType=VARCHAR},position=#{position,jdbcType=VARCHAR},
		level=#{level,jdbcType=VARCHAR}	where user_id=#{user_id,jdbcType=INTEGER}
	</update>
	 
	<insert id="insertUser" parameterType="com.lihui.share.entity.User"> 
        insert into t_user(loginame,name,sex,emp_id,pwd,email,tel,addr,company,dept,project,position,level,hiredate)  
               values(#{loginame,jdbcType=VARCHAR},#{name,jdbcType=VARCHAR},#{sex,jdbcType=VARCHAR},#{emp_id,jdbcType=VARCHAR},
             #{pwd,jdbcType=VARCHAR},#{email,jdbcType=VARCHAR},
             #{tel,jdbcType=VARCHAR},#{addr,jdbcType=VARCHAR},#{company,jdbcType=VARCHAR},
             #{dept,jdbcType=VARCHAR},#{project,jdbcType=VARCHAR},#{position,jdbcType=VARCHAR},
             #{level,jdbcType=VARCHAR}, #{hiredate,jdbcType=DATE})  
    </insert>
    
    <delete id="deleteUserById" parameterType="Integer">
    	delete from t_user where user_id=#{user_id}
    </delete>
</mapper>